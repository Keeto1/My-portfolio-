<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAFCODE Auth</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'faf-orange': '#e99b63',
                        'faf-light': '#f5d5b8',
                        'faf-dark': '#1a1a1a',
                    },
                    animation: {
                        'slide-in-right': 'slideInRight 0.3s ease-out',
                        'slide-out-right': 'slideOutRight 0.3s ease-in',
                        'bounce-in': 'bounceIn 0.5s ease-out',
                        'shake': 'shake 0.5s ease-in-out',
                    },
                    keyframes: {
                        slideInRight: {
                            '0%': { transform: 'translateX(100%)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        slideOutRight: {
                            '0%': { transform: 'translateX(0)', opacity: '1' },
                            '100%': { transform: 'translateX(100%)', opacity: '0' },
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.3)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)', opacity: '1' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)' },
                        },
                        shake: {
                            '0%, 100%': { transform: 'translateX(0)' },
                            '10%, 30%, 50%, 70%, 90%': { transform: 'translateX(-10px)' },
                            '20%, 40%, 60%, 80%': { transform: 'translateX(10px)' },
                        },
                    }
                }
            }
        }
    </script>
    <style>
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 400px;
        }
        
        .toast {
            margin-bottom: 10px;
            backdrop-filter: blur(10px);
            border-left: 4px solid;
        }
        
        .toast.success {
            border-left-color: #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));
        }
        
        .toast.error {
            border-left-color: #ef4444;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));
        }
        
        .toast.warning {
            border-left-color: #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05));
        }
        
        .toast.info {
            border-left-color: #3b82f6;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.05));
        }
        
        .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #e99b63, #f5d5b8);
            animation: progress 4s linear forwards;
        }
        
        @keyframes progress {
            0% { width: 100%; }
            100% { width: 0%; }
        }
        
        .form-shake {
            animation: shake 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-black min-h-screen flex items-center justify-center p-4">
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <!-- Auth Container -->
    <div class="w-full max-w-md">
        <!-- Toggle Between SignIn/SignUp -->
        <div class="flex justify-center mb-8">
            <button id="signinTab" class="px-6 py-2 rounded-l-full border-2 border-r-0 border-gray-600 bg-gray-700 text-gray-300 font-semibold transition-all duration-300 hover:border-orange-300 hover:text-faf-light focus:outline-none active hover:bg-black">
                Sign In
            </button>
            <button id="signupTab" class="px-6 py-2 rounded-r-full border-2 border-l-0 border-gray-600 bg-gray-700 text-gray-300 font-semibold transition-all duration-300 hover:border-orange-300 hover:text-faf-light focus:outline-none hover:bg-black">
                Sign Up
            </button>
        </div>

        <!-- SignIn Form -->
        <form id="signinForm" class="border-2 border-orange-300 rounded-2xl p-8 shadow-2xl shadow-orange-300/50 hover:shadow-orange-500/70 transition-all duration-500">
            <h1 class="text-transparent bg-clip-text bg-gradient-to-r from-faf-orange to-faf-light text-4xl font-semibold tracking-wide mb-10 text-center">
                SIGN IN
            </h1>

            <!-- Email Input -->
            <div class="mb-6">
                <label for="signinEmail" class="block text-gray-400 font-semibold tracking-wide mb-2">
                    <i class="fas fa-envelope mr-2"></i>Email Address
                </label>
                <input type="email" id="signinEmail" required
                    class="w-full px-4 py-2 rounded border-2 border-gray-600 bg-gray-700 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-orange-300 focus:bg-gray-600 transition-colors duration-300 hover:border-orange-300"
                    placeholder="developer@example.com">
                <p id="signinEmailError" class="text-red-400 text-sm mt-1 hidden"></p>
            </div>

            <!-- Password Input -->
            <div class="mb-6">
                <label for="signinPassword" class="block text-gray-400 font-semibold tracking-wide mb-2">
                    <i class="fas fa-lock mr-2"></i>Password
                </label>
                <div class="relative">
                    <input type="password" id="signinPassword" required
                        class="w-full px-4 py-2 rounded border-2 border-gray-600 bg-gray-700 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-orange-300 focus:bg-gray-600 transition-colors duration-300 hover:border-orange-300"
                        placeholder="••••••••">
                    <button type="button" id="toggleSigninPassword" class="absolute right-3 top-2 text-gray-400 hover:text-faf-light">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <p id="signinPasswordError" class="text-red-400 text-sm mt-1 hidden"></p>
            </div>

            <!-- Remember Me & Forgot Password -->
            <div class="flex items-center justify-between mb-8">
                <div class="flex items-center">
                    <input type="checkbox" id="rememberMe" class="h-4 w-4 rounded border-gray-600 bg-gray-700 focus:ring-orange-300">
                    <label for="rememberMe" class="ml-2 text-gray-400 text-sm">Remember me</label>
                </div>
                <a href="#" class="text-sm text-gray-400 hover:text-faf-orange transition-colors duration-300">Forgot password?</a>
            </div>

            <!-- Submit Button -->
            <button type="submit"
                class="w-full py-3 px-4 bg-gradient-to-r from-faf-orange/80 to-faf-orange text-gray-900 font-bold rounded-full border-2 border-transparent hover:border-faf-light hover:shadow-lg hover:shadow-orange-500/30 transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none">
                <span class="signin-btn-text">SIGN IN</span>
                <i class="fas fa-spinner fa-spin hidden signin-loading"></i>
            </button>

            <!-- Social Login -->
            <div class="mt-6">
                <p class="text-center text-gray-500 text-sm mb-3">Or continue with</p>
                <div class="flex justify-center space-x-4">
                    <button type="button" class="p-2 rounded-full border border-gray-600 text-gray-400 hover:border-orange-300 hover:text-faf-light transition-colors duration-300">
                        <i class="fab fa-google"></i>
                    </button>
                    <button type="button" class="p-2 rounded-full border border-gray-600 text-gray-400 hover:border-orange-300 hover:text-faf-light transition-colors duration-300">
                        <i class="fab fa-github"></i>
                    </button>
                    <button type="button" class="p-2 rounded-full border border-gray-600 text-gray-400 hover:border-orange-300 hover:text-faf-light transition-colors duration-300">
                        <i class="fab fa-microsoft"></i>
                    </button>
                </div>
            </div>
        </form>

        <!-- SignUp Form (Hidden by default) -->
        <form id="signupForm" class="border-2 border-orange-300 rounded-2xl p-8 shadow-2xl shadow-orange-300/50 hover:shadow-orange-500/70 transition-all duration-500 hidden">
            <h1 class="text-transparent bg-clip-text bg-gradient-to-r from-faf-orange to-faf-light text-4xl font-semibold tracking-wide mb-10 text-center">
                SIGN UP
            </h1>

            <!-- Name Input -->
            <div class="mb-6">
                <label for="signupName" class="block text-gray-400 font-semibold tracking-wide mb-2">
                    <i class="fas fa-user mr-2"></i>Full Name
                </label>
                <input type="text" id="signupName" required
                    class="w-full px-4 py-2 rounded border-2 border-gray-600 bg-gray-700 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-orange-300 focus:bg-gray-600 transition-colors duration-300"
                    placeholder="John Doe">
                <p id="signupNameError" class="text-red-400 text-sm mt-1 hidden"></p>
            </div>

            <!-- Email Input -->
            <div class="mb-6">
                <label for="signupEmail" class="block text-gray-400 font-semibold tracking-wide mb-2">
                    <i class="fas fa-envelope mr-2"></i>Email Address
                </label>
                <input type="email" id="signupEmail" required
                    class="w-full px-4 py-2 rounded border-2 border-gray-600 bg-gray-700 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-orange-300 focus:bg-gray-600 transition-colors duration-300"
                    placeholder="developer@example.com">
                <p id="signupEmailError" class="text-red-400 text-sm mt-1 hidden"></p>
            </div>

            <!-- Password Input -->
            <div class="mb-6">
                <label for="signupPassword" class="block text-gray-400 font-semibold tracking-wide mb-2">
                    <i class="fas fa-lock mr-2"></i>Password
                </label>
                <div class="relative">
                    <input type="password" id="signupPassword" required
                        class="w-full px-4 py-2 rounded border-2 border-gray-600 bg-gray-700 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-orange-300 focus:bg-gray-600 transition-colors duration-300"
                        placeholder="••••••••">
                    <button type="button" id="toggleSignupPassword" class="absolute right-3 top-2 text-gray-400 hover:text-faf-light">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <p id="signupPasswordError" class="text-red-400 text-sm mt-1 hidden"></p>
                <div class="mt-2 text-xs text-gray-500">
                    <p class="flex items-center"><span id="lengthCheck" class="inline-block w-4 h-4 rounded-full bg-gray-600 mr-2"></span> At least 8 characters</p>
                    <p class="flex items-center"><span id="numberCheck" class="inline-block w-4 h-4 rounded-full bg-gray-600 mr-2"></span> Contains a number</p>
                    <p class="flex items-center"><span id="specialCheck" class="inline-block w-4 h-4 rounded-full bg-gray-600 mr-2"></span> Contains a special character</p>
                </div>
            </div>

            <!-- Confirm Password Input -->
            <div class="mb-6">
                <label for="signupConfirmPassword" class="block text-gray-400 font-semibold tracking-wide mb-2">
                    <i class="fas fa-lock mr-2"></i>Confirm Password
                </label>
                <div class="relative">
                    <input type="password" id="signupConfirmPassword" required
                        class="w-full px-4 py-2 rounded border-2 border-gray-600 bg-gray-700 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-orange-300 focus:bg-gray-600 transition-colors duration-300"
                        placeholder="••••••••">
                    <button type="button" id="toggleSignupConfirmPassword" class="absolute right-3 top-2 text-gray-400 hover:text-faf-light">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <p id="signupConfirmPasswordError" class="text-red-400 text-sm mt-1 hidden"></p>
            </div>

            <!-- Terms Checkbox -->
            <div class="mb-6">
                <div class="flex items-center">
                    <input type="checkbox" id="acceptTerms" required
                        class="h-4 w-4 rounded border-gray-600 bg-gray-700 focus:ring-orange-300">
                    <label for="acceptTerms" class="ml-2 text-sm text-gray-400">
                        I agree to the <a href="#" class="text-faf-orange hover:underline">Terms of Service</a> and <a href="#" class="text-faf-orange hover:underline">Privacy Policy</a>
                    </label>
                </div>
                <p id="termsError" class="text-red-400 text-sm mt-1 hidden"></p>
            </div>

            <!-- Submit Button -->
            <button type="submit"
                class="w-full py-3 px-4 bg-gradient-to-r from-faf-orange/80 to-faf-orange text-gray-900 font-bold rounded-full border-2 border-transparent hover:border-faf-light hover:shadow-lg hover:shadow-orange-500/30 transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none">
                <span class="signup-btn-text">CREATE ACCOUNT</span>
                <i class="fas fa-spinner fa-spin hidden signup-loading"></i>
            </button>

            <!-- Already have account -->
            <div class="mt-6 text-center">
                <p class="text-gray-500 text-sm">Already have an account? 
                    <button type="button" id="switchToSignin" class="text-faf-orange hover:underline focus:outline-none">Sign in</button>
                </p>
            </div>
        </form>
    </div>

    <script>
        // Toast Notification System
        class ToastManager {
            constructor() {
                this.container = document.getElementById('toastContainer');
            }

            show(message, type = 'info', duration = 4000) {
                const toast = this.createToast(message, type);
                this.container.appendChild(toast);

                // Animate in
                setTimeout(() => {
                    toast.classList.add('animate-slide-in-right');
                }, 10);

                // Auto remove
                setTimeout(() => {
                    this.remove(toast);
                }, duration);

                // Click to remove
                toast.addEventListener('click', () => {
                    this.remove(toast);
                });

                return toast;
            }

            createToast(message, type) {
                const toast = document.createElement('div');
                toast.className = `toast ${type} bg-gray-800 border border-gray-600 rounded-lg p-4 shadow-xl relative overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105`;

                const icons = {
                    success: 'fas fa-check-circle text-green-400',
                    error: 'fas fa-times-circle text-red-400',
                    warning: 'fas fa-exclamation-triangle text-yellow-400',
                    info: 'fas fa-info-circle text-blue-400'
                };

                const titles = {
                    success: 'Success!',
                    error: 'Error!',
                    warning: 'Warning!',
                    info: 'Info'
                };

                toast.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="flex-shrink-0">
                            <i class="${icons[type]} text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <div class="font-semibold text-white text-sm">${titles[type]}</div>
                            <div class="text-gray-300 text-sm mt-1">${message}</div>
                        </div>
                        <button class="flex-shrink-0 text-gray-400 hover:text-white transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="progress-bar"></div>
                `;

                return toast;
            }

            remove(toast) {
                toast.classList.add('animate-slide-out-right');
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }

            success(message) {
                return this.show(message, 'success');
            }

            error(message) {
                return this.show(message, 'error');
            }

            warning(message) {
                return this.show(message, 'warning');
            }

            info(message) {
                return this.show(message, 'info');
            }
        }

        // Initialize toast manager
        const toast = new ToastManager();

        // DOM Elements
        const signinTab = document.getElementById('signinTab');
        const signupTab = document.getElementById('signupTab');
        const signinForm = document.getElementById('signinForm');
        const signupForm = document.getElementById('signupForm');
        const switchToSignin = document.getElementById('switchToSignin');

        // Password visibility toggles
        const toggleSigninPassword = document.getElementById('toggleSigninPassword');
        const toggleSignupPassword = document.getElementById('toggleSignupPassword');
        const toggleSignupConfirmPassword = document.getElementById('toggleSignupConfirmPassword');
        const signinPassword = document.getElementById('signinPassword');
        const signupPassword = document.getElementById('signupPassword');
        const signupConfirmPassword = document.getElementById('signupConfirmPassword');

        // Password strength indicators
        const lengthCheck = document.getElementById('lengthCheck');
        const numberCheck = document.getElementById('numberCheck');
        const specialCheck = document.getElementById('specialCheck');

        // Loading states
        const signinBtnText = document.querySelector('.signin-btn-text');
        const signinLoading = document.querySelector('.signin-loading');
        const signupBtnText = document.querySelector('.signup-btn-text');
        const signupLoading = document.querySelector('.signup-loading');

        // Utility functions
        function showLoading(form) {
            if (form === 'signin') {
                signinBtnText.classList.add('hidden');
                signinLoading.classList.remove('hidden');
            } else {
                signupBtnText.classList.add('hidden');
                signupLoading.classList.remove('hidden');
            }
        }

        function hideLoading(form) {
            if (form === 'signin') {
                signinBtnText.classList.remove('hidden');
                signinLoading.classList.add('hidden');
            } else {
                signupBtnText.classList.remove('hidden');
                signupLoading.classList.add('hidden');
            }
        }

        function shakeForm(form) {
            form.classList.add('form-shake');
            setTimeout(() => {
                form.classList.remove('form-shake');
            }, 500);
        }

        // Tab switching
        function showSignin() {
            signinTab.classList.add('active');
            signupTab.classList.remove('active');
            signinForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
        }

        function showSignup() {
            signinTab.classList.remove('active');
            signupTab.classList.add('active');
            signinForm.classList.add('hidden');
            signupForm.classList.remove('hidden');
        }

        // Event listeners
        signinTab.addEventListener('click', showSignin);
        signupTab.addEventListener('click', showSignup);
        switchToSignin.addEventListener('click', showSignin);

        // Toggle password visibility
        function togglePasswordVisibility(inputField, toggleButton) {
            const type = inputField.getAttribute('type') === 'password' ? 'text' : 'password';
            inputField.setAttribute('type', type);
            toggleButton.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
        }

        toggleSigninPassword.addEventListener('click', () => togglePasswordVisibility(signinPassword, toggleSigninPassword));
        toggleSignupPassword.addEventListener('click', () => togglePasswordVisibility(signupPassword, toggleSignupPassword));
        toggleSignupConfirmPassword.addEventListener('click', () => togglePasswordVisibility(signupConfirmPassword, toggleSignupConfirmPassword));

        // Password strength checker - UPDATED WITH CORRECT SPECIAL CHARACTERS CHECK
        signupPassword.addEventListener('input', function() {
            const password = this.value;
            
            // Check length
            if (password.length >= 8) {
                lengthCheck.classList.remove('bg-gray-600');
                lengthCheck.classList.add('bg-green-500');
            } else {
                lengthCheck.classList.remove('bg-green-500');
                lengthCheck.classList.add('bg-gray-600');
            }
            
            // Check for number
            if (/\d/.test(password)) {
                numberCheck.classList.remove('bg-gray-600');
                numberCheck.classList.add('bg-green-500');
            } else {
                numberCheck.classList.remove('bg-green-500');
                numberCheck.classList.add('bg-gray-600');
            }
            
            // Check for special character - CORRECTED REGEX
            if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
                specialCheck.classList.remove('bg-gray-600');
                specialCheck.classList.add('bg-green-500');
            } else {
                specialCheck.classList.remove('bg-green-500');
                specialCheck.classList.add('bg-gray-600');
            }
        });

        // Form validation and submission
        signinForm.addEventListener('submit', function(e) {
            e.preventDefault();
            let isValid = true;
            
            showLoading('signin');
            
            // Validate email
            const email = document.getElementById('signinEmail').value;
            const emailError = document.getElementById('signinEmailError');
            if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.textContent = 'Please enter a valid email address';
                emailError.classList.remove('hidden');
                isValid = false;
            } else {
                emailError.classList.add('hidden');
            }
            
            // Validate password
            const password = document.getElementById('signinPassword').value;
            const passwordError = document.getElementById('signinPasswordError');
            if (!password || password.length < 6) {
                passwordError.textContent = 'Password must be at least 6 characters';
                passwordError.classList.remove('hidden');
                isValid = false;
            } else {
                passwordError.classList.add('hidden');
            }
            
            // Simulate API call
            setTimeout(() => {
                hideLoading('signin');
                
                if (isValid) {
                    // Simulate random success/failure for demo
                    const success = Math.random() > 0.3; // 70% success rate
                    
                    if (success) {
                        toast.success('Welcome back! You have been successfully signed in.');
                        this.reset();
                        
                        // Simulate redirect after successful login
                        setTimeout(() => {
                            toast.info('Redirecting to dashboard...');
                        }, 1500);
                    } else {
                        toast.error('Invalid credentials. Please check your email and password.');
                        shakeForm(this);
                    }
                } else {
                    toast.error('Please fix the errors above and try again.');
                    shakeForm(this);
                }
            }, 1500); // Simulate network delay
        });

        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            let isValid = true;
            
            showLoading('signup');
            
            // Validate name
            const name = document.getElementById('signupName').value;
            const nameError = document.getElementById('signupNameError');
            if (!name || name.length < 2) {
                nameError.textContent = 'Please enter your full name';
                nameError.classList.remove('hidden');
                isValid = false;
            } else {
                nameError.classList.add('hidden');
            }
            
            // Validate email
            const email = document.getElementById('signupEmail').value;
            const emailError = document.getElementById('signupEmailError');
            if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.textContent = 'Please enter a valid email address';
                emailError.classList.remove('hidden');
                isValid = false;
            } else {
                emailError.classList.add('hidden');
            }
            
            // Validate password - UPDATED WITH CORRECT SPECIAL CHARACTERS CHECK
            const password = document.getElementById('signupPassword').value;
            const passwordError = document.getElementById('signupPasswordError');
            if (!password || password.length < 8) {
                passwordError.textContent = 'Password must be at least 8 characters';
                passwordError.classList.remove('hidden');
                isValid = false;
            } else if (!/\d/.test(password)) {
                passwordError.textContent = 'Password must contain at least one number';
                passwordError.classList.remove('hidden');
                isValid = false;
            } else if (!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
                passwordError.textContent = 'Password must contain at least one special character';
                passwordError.classList.remove('hidden');
                isValid = false;
            } else {
                passwordError.classList.add('hidden');
            }
            
            // Validate confirm password
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            const confirmPasswordError = document.getElementById('signupConfirmPasswordError');
            if (password !== confirmPassword) {
                confirmPasswordError.textContent = 'Passwords do not match';
                confirmPasswordError.classList.remove('hidden');
                isValid = false;
            } else {
                confirmPasswordError.classList.add('hidden');
            }
            
            // Validate terms
            const terms = document.getElementById('acceptTerms').checked;
            const termsError = document.getElementById('termsError');
            if (!terms) {
                termsError.textContent = 'You must accept the terms and conditions';
                termsError.classList.remove('hidden');
                isValid = false;
            } else {
                termsError.classList.add('hidden');
            }
            
            // Simulate API call
            setTimeout(() => {
                hideLoading('signup');
                
                if (isValid) {
                    // Simulate random success/failure for demo
                    const success = Math.random() > 0.2; // 80% success rate
                    
                    if (success) {
                        toast.success('Account created successfully! Please check your email to verify your account.');
                        this.reset();
                        
                        // Auto switch to sign in after successful signup
                        setTimeout(() => {
                            showSignin();
                            toast.info('You can now sign in with your new account.');
                        }, 2000);
                    } else {
                        toast.error('Email already exists. Please use a different email address.');
                        shakeForm(this);
                    }
                } else {
                    toast.error('Please fix the errors above and try again.');
                    shakeForm(this);
                }
            }, 2000); // Simulate network delay
        });
    </script>
</body>
</html>